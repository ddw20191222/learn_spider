#!/d:\\learn_spider\\mooc python3
# -*- coding: utf-8 -*-
# software: sublime
# name: test.py
# date: 2020.05.05
# website: https://www.bilibili.com/video/BV1kx411S7Fh?from=search&seid=17694479333795138682

__author__="ddw20191222"

import requests, os, re
from bs4 import BeautifulSoup
import bs4

header = {
	"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:75.0) Gecko/20100101 Firefox/75.0"
}

def get_video(url):
	try:
		res = requests.get(url, headers=header, timeout=10)
		res.encoding = res.apparent_encoding
		# res.raise_for_status()
		return res.content
	except Exception as e:
		print("Error in get_video")

# def write_file(filename, file):
# 	dir = "E:\\"
# 	path = dir + filename
# 	try:
# 		if not os.path.exists(path):
# 			with open(path, "wb") as f:
# 				f.write(file)
# 	except Exception as e:
# 		raise e



def main():
	# url = "http://quote.cfi.cn/quote.aspx?actcode=&actstockid=&searchcode=603056&x=8&y=4"
	html = '<div id="root"><div class="laohu8-layout" data-reactroot=""><header class="laohu8-header"><div class="header-content"><a class="header-logo" href="/"><img src="https://static.tigerfintech.com/images/header-logo.73caf012866c5b2b.png"/></a><nav class="header-nav"><div class="nav-item"><a href="/">首页</a></div><div class="nav-item"><a href="/community">社区·资讯</a></div><div class="nav-item selected"><a href="/quotes">行情</a></div><div class="nav-item"><a href="/college">学院</a></div></nav><div class="header-search"><input type="text" class="search-input" value="" placeholder=""/><span class="search-button"><i class="iconfont icon-search"></i></span></div><div class="header-download"><div class="popover"><div class="popover-trigger"><a href="https://www.itiger.com/download?from=laohu8" target="_blank">下载 Tiger Trade</a></div></div></div><div class="header-login"><div class="login-item"><a href="https://www.tigersecurities.com/accounts/signup?from=laohu8">注册</a></div><div class="login-item"><a href="/login?next=https://www.laohu8.com/stock/603056">登录</a></div></div></div></header><main class="laohu8-main" style="padding-top:50px"><div class="stock-container"><div class="stock-links"><div class="detail-links"><div class="links-group"><div class="group-name">公司概况</div><ul class="links-list"><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/company/#detail" target="_blank">公司简介</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/company/#manager" target="_blank">公司高管</a></li><li class="link-item"><a id="" href="http://stock.jrj.com.cn/share,603056,zgsms.shtml" target="_blank">IPO文件</a></li><li class="link-item"><a id="related_indices" href="http://stock.jrj.com.cn" target="_blank">所属指数</a></li></ul></div><div class="links-group"><div class="group-name">股本信息</div><ul class="links-list"><li class="link-item"><a id="" href="http://f10.eastmoney.com/f10_v2/CapitalStockStructure.aspx?code=603056" target="_blank">股本结构</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/holder/#tenholder" target="_blank">主要股东</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/holder/#flowholder" target="_blank">流通股东</a></li><li class="link-item"><a id="" href="http://stock.jrj.com.cn/share,603056,jjcg.shtml" target="_blank">基金持股</a></li><li class="link-item"><a id="" href="http://stock.jrj.com.cn/share,603056,ggcg.shtml" target="_blank">高管持股</a></li><li class="link-item"><a id="" href="http://stock.jrj.com.cn/share,603056,xsgd.shtml" target="_blank">限售股东</a></li></ul></div><div class="links-group"><div class="group-name">交易数据</div><ul class="links-list"><li class="link-item"><a id="" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#detail" target="_blank">成交明细</a></li><li class="link-item"><a id="" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#price" target="_blank">分时价表</a></li><li class="link-item"><a id="" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#dadan" target="_blank">大单统计</a></li><li class="link-item"><a id="" href="http://data.eastmoney.com/dzjy/detail/603056.html" target="_blank">大宗交易</a></li><li class="link-item"><a id="" href="http://data.eastmoney.com/stock/lhb/603056.html" target="_blank">龙虎榜</a></li><li class="link-item"><a id="" href="http://data.eastmoney.com/rzrq/detail/603056.html" target="_blank">融资融券</a></li><li class="link-item"><a id="historical_data" href="http://data.eastmoney.com" target="_blank">历史价格</a></li></ul></div><div class="links-group"><div class="group-name"></div><ul class="links-list"><li class="link-item"><a id="" href="http://www.sse.com.cn/assortment/stock/list/info/announcement/index.shtml?productId=603056" target="_blank">最新公告</a></li><li class="link-item"><a id="" href="http://money.finance.sina.com.cn/corp/go.php/vCB_Bulletin/stockid/603056/page_type/ndbg.phtml" target="_blank">年度公告</a></li></ul></div><div class="links-group"><div class="group-name">财务分析</div><ul class="links-list"><li class="link-item"><a id="" href="http://money.finance.sina.com.cn/corp/go.php/vGP_StockHolderMeeting/stockid/603056.phtml" target="_blank">股东大会</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/operate/#analysis" target="_blank">收入构成</a></li><li class="link-item"><a id="" href="http://q.stock.sohu.com/cn/603056/bw.shtml" target="_blank">重大事项</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/bonus/#bonuslist" target="_blank">分红配送</a></li><li class="link-item"><a id="" href="http://stockpage.10jqka.com.cn/603056/bonus/#additionprofile" target="_blank">增发一览</a></li><li class="link-item"><a id="" href="http://data.eastmoney.com/executive/gdzjc/603056.html" target="_blank">内部交易</a></li><li class="link-item"><a id="" href="http://sns.sseinfo.com/search.do?keyword=603056" target="_blank">IR活动记录</a></li></ul></div><div class="links-group"><div class="group-name">分红与权益行动</div><ul class="links-list"><li class="link-item"><a id="" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#10" target="_blank">业绩预告</a></li><li class="link-item"><a id="financial_summary" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#11" target="_blank">最近财务指标</a></li><li class="link-item"><a id="balance_sheet" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#12" target="_blank">资产负债表</a></li><li class="link-item"><a id="cash_flow" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#12" target="_blank">现金流量表</a></li><li class="link-item"><a id="income_statement" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/603056.htm#12" target="_blank">利润表</a></li><li class="link-item"><a id="" href="http://f10.eastmoney.com/f10_v2/ProfitForecast.aspx?code=sh603056&amp;timetip=636354804609208154" target="_blank">机构预测</a></li><li class="link-item"><a id="" href="http://vip.stock.finance.sina.com.cn/corp/go.php/vFD_BenifitChange/stockid/603056/displaytype/4.phtml" target="_blank">所有者权益变动</a></li></ul></div><div class="links-group"><div class="group-name">研究分析</div><ul class="links-list"><li class="link-item"><a id="" href="http://quotes.money.163.com/f10/dbfx_603056.html" target="_blank">杜邦分析</a></li><li class="link-item"><a id="" href="http://vip.stock.finance.sina.com.cn/q/go.php/vReport_List/kind/search/index.phtml?t1=2&amp;symbol=603056" target="_blank">研究报告</a></li><li class="link-item"><a id="technical" href="http://vip.stock.finance.sina.com.cn" target="_blank">技术分析</a></li></ul></div></div></div><div class="stock-main"><div class="stock-info"><div class="stock-name"><h1 class="name">德邦股份<!-- --> (SH:603056)</h1><div class="status">-- --</div><div class="watch-button">+自选</div><div class="refresh-button"><i class="iconfont icon-refresh"></i></div></div><div class="stock-price increase"><span class="latest">9.80</span><span class="change">+0.22</span><span class="change">+2.30%</span></div><div class="quote-mimic"><span>万元启动资金开通模拟盘<strong>立即买入<!-- -->德邦股份</strong></span><div class="primary-button">立即买入</div></div><div class="stock-chart"><div class="simple-time-trend"><div class="tabs default-tabs"><div class="tabs-header"><div class="tabs-nav"><ul class="tabs-list"><li class="tab-item active">分时</li><li class="tab-item">五日</li><li class="tab-item">日K</li><li class="tab-item">周K</li><li class="tab-item">月K</li></ul></div></div><div class="tabs-main"><div class="tabs-pane"><div class="loading-container"><div class="content">小虎正在努力加载中~</div></div></div></div></div></div></div><div class="stock-detail"><div class="detail-data" style="height:80px"><dl><dt>最高</dt><dd>--</dd><dt>最低</dt><dd>--</dd><dt>成交量</dt><dd>417万</dd><dt>成交额</dt><dd>4,054万</dd></dl><dl><dt>今开</dt><dd>--</dd><dt>昨收</dt><dd>9.58</dd><dt>日振幅</dt><dd>3.34%</dd><dt>换手率</dt><dd>1.92%</dd></dl><dl><dt>总市值</dt><dd>94.08亿</dd><dt>流通市值</dt><dd>21.33亿</dd><dt>总股本</dt><dd>9.60亿</dd><dt>流通股本</dt><dd>2.18亿</dd></dl><dl><dt>52周最高</dt><dd>--</dd><dt>52周最低</dt><dd>--</dd><dt>市盈率</dt><dd>--</dd><dt>市净率</dt><dd>2.36</dd></dl><dl><dt>股息</dt><dd>--</dd><dt>股息收益率</dt><dd>--</dd><dt>ROA</dt><dd>--</dd><dt>ROE</dt><dd>--</dd></dl><dl><dt>每股收益</dt><dd>--</dd></dl></div><div class="arrow-button" style="transform:"><i class="iconfont icon-down"></i></div></div><div class="tiger-banner"><a href="https://www.itiger.com/market/ipo?from=laohu8" target="_blank"><img class="tiger-image" src="https://static.tigerfintech.com/images/tiger-trade.31c51834a92f5eb6.jpg"/></a></div></div><div class="stock-related"><div class="tabs default-tabs"><div class="tabs-header"><div class="tabs-nav"><ul class="tabs-list"><li class="tab-item">新闻</li><li class="tab-item active">新帖</li><li class="tab-item">公告</li></ul></div></div><div class="tabs-main"><div class="tabs-pane"><div class="short-editor-container"><div class="editor-box"><a href="/login?next=">登录</a>后可发布短帖</div></div><div class="tabs default-tabs tweet-tabs"><div class="tabs-header"><div class="tabs-nav"><ul class="tabs-list"><li class="tab-item active">精选</li><li class="tab-item">全部</li></ul></div></div><div class="tabs-main"><div class="tabs-pane"><div class="tweet-container"><div class="loading-container"><div class="content">小虎正在努力加载中~</div></div></div></div></div></div></div></div></div></div></div><div class="stock-aside"><div class="laohu8-carousel display-carousel"><ul class="carousel-list"><li class="carousel-item"><a href="https://www.itiger.com/activity/market/2020/market-ali?from=laohu8" target="_blank"><div class="item-image" style="width:300px;height:200px;background-image:url(https://static.tigerfintech.com/images/ali-activity.86f6622f4dc4f5bc.jpg)"></div></a></li></ul><div class="carousel-bottom"></div></div><section class="aside-section profile-section"><div class="section-header"><h2 class="section-title secondary">基本资料</h2></div><div class="section-main"><dl class="profile-list"><dt>公司名称：</dt><dd>德邦股份</dd><dt>所属市场：</dt><dd>--</dd><dt>公司概况：</dt><dd class="description">暂无概况</dd></dl></div></section><section class="aside-section college-section"><div class="section-header"><h2 class="section-title secondary">相关课程</h2><div class="section-addition"><a class="more-link" href="/college" target="_blank">更多</a></div></div><div class="section-main"><ul class="column-list"><li class="column-item"><a href="/college/column/C20181129011510422" target="_blank"><div class="column-cover" style="background-image:url(https://static.tigerbbs.com/f7cd09c4e2b07cb574af68d064c8ea48)"></div></a><div class="column-main"><div class="column-name"><a href="/college/column/C20181129011510422" target="_blank">零基础学美股</a></div><div class="column-desc">老虎出品美股入门课程</div></div></li><li class="column-item"><a href="/college/column/C20181129021508647" target="_blank"><div class="column-cover" style="background-image:url(https://static.tigerbbs.com/a3d8f01ad498ec2183c7f3c3428a79d4)"></div></a><div class="column-main"><div class="column-name"><a href="/college/column/C20181129021508647" target="_blank">手把手带你学技术分析</a></div><div class="column-desc">资深交易者带你学习技术分析</div></div></li><li class="column-item"><a href="/college/column/C20181129012546362" target="_blank"><div class="column-cover" style="background-image:url(https://static.tigerbbs.com/9d9c127a939ed2f06dc51dccc217c41b)"></div></a><div class="column-main"><div class="column-name"><a href="/college/column/C20181129012546362" target="_blank">白话财报知识</a></div><div class="column-desc">财报知识基本讲解</div></div></li></ul></div></section></div></div></main><footer class="laohu8-footer"><div class="footer-content"><div class="left-content"><div class="about-us"><a href="/about" target="_blank">关于我们</a><a href="/about/agreement" target="_blank">社区守则</a></div><div class="filing"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502036490" target="_blank">京公网安备11010502036490</a><span>京ICP备18016422号-2</span></div><div class="copyright"><span>© 2018-<!-- -->2020<!-- --> 老虎社区 版权所有</span></div></div><div class="right-content"><div class="follow-us"><span>关注我们</span><div class="popover"><div class="popover-trigger"><img class="wechat-icon" src="https://static.tigerfintech.com/images/share-wechat.cf6b0e720a3b26ae.png"/></div></div></div><div>意见反馈、互联网违法和不良信息投诉</div><div><span class="email">service@laohu8.com</span><span>联系电话：010-56813666</span></div></div></div></footer></div></div>'
	# file = get_video(url)
	soup = BeautifulSoup(html, "html.parser")
	# print(soup.prettify())
	# name = soup.find("h1")
	# print(name.text.split(" ")[0])
	# pat_name = re.compile(r'^<h1 class="name">(.*?)<!-- --> (SH:603056)</h1>$')

	# print(re.search(pat_name, str(name)))
	# # print(file)

	# <div class="detail-data" style="height:80px">
	Stockinfo = soup.find("div", attrs={"class":"detail-data"})
	print(Stockinfo.prettify())
	# if isinstance(Stockinfo, bs4.element.Tag):
	# 	keyInfo = Stockinfo.find_all("dt")
	# 	ValueInfo = Stockinfo.find_all("dd")
	# 	for i in range(4):
	# 		key = keyInfo[i].text
	# 		value = ValueInfo[i].text
	# 		print(key, value)

		# for i in range()

if __name__=="__main__":
	main()